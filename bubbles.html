<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Flutter & Follow</title>

<style>
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    overflow: hidden;
    background: #000;
    cursor: none;
    font-family: Arial, sans-serif;
}

/* ---------------- BUBBLES ---------------- */
.bubble {
    position: absolute;
    background: radial-gradient(circle at 30% 30%, rgba(100,150,255,0.6), rgba(50,100,200,0.4));
    border-radius: 50%;
    pointer-events: none;
    z-index: 1;
    animation: floatBubble linear forwards;
}

@keyframes floatBubble {
    0% {
        transform: translateY(0) translateX(0);
        opacity: 0;
    }
    10% {
        opacity: 1;
    }
    90% {
        opacity: 1;
    }
    100% {
        transform: translateY(calc(-100vh + 120px)) translateX(var(--drift));
        opacity: 0;
    }
}

/* ---------------- BUTTERFLIES ---------------- */
.butterfly {
    position: absolute;
    width: 80px;
    height: 80px;
    pointer-events: none;
    z-index: 100;
}

.butterfly svg {
    width: 100%;
    height: 100%;
    filter: drop-shadow(0 2px 4px rgba(0,0,0,0.4));
}

.wing-left {
    transform-origin: 50px 50px;
    animation: flapLeft 0.3s ease-in-out infinite;
}
.wing-right {
    transform-origin: 50px 50px;
    animation: flapRight 0.3s ease-in-out infinite;
}

@keyframes flapLeft {
    0% { transform: rotateY(0deg) rotateZ(-4deg); }
    50% { transform: rotateY(-55deg) rotateZ(-4deg); }
    100% { transform: rotateY(0deg) rotateZ(-4deg); }
}
@keyframes flapRight {
    0% { transform: rotateY(0deg) rotateZ(4deg); }
    50% { transform: rotateY(55deg) rotateZ(4deg); }
    100% { transform: rotateY(0deg) rotateZ(4deg); }
}

/* ---------------- UI ---------------- */
.title {
    position: absolute;
    top: 40px;
    left: 50%;
    transform: translateX(-50%);
    color: #c8b5e8;
    font-size: 2.5em;
    z-index: 50;
    pointer-events: none;
    text-shadow: 0 0 20px rgba(200,150,255,0.7);
}

.cursor {
    position: absolute;
    width: 20px;
    height: 20px;
    border: 2px solid #c8b5e8;
    border-radius: 50%;
    pointer-events: none;
    z-index: 1000;
    box-shadow: 0 0 10px rgba(200,150,255,0.8);
}
.cursor::after {
    content: "";
    position: absolute;
    width: 8px;
    height: 8px;
    background: #c8b5e8;
    border-radius: 50%;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
}
</style>
</head>

<body>
<div class="title">Flutter & Follow</div>
<div class="cursor" id="cursor"></div>

<script>
const butterflies = [];
const cursor = document.getElementById("cursor");

let mouseX = innerWidth / 2;
let mouseY = innerHeight / 2;

/* ---------------- BUBBLES ---------------- */
function createBubble() {
    const bubble = document.createElement("div");
    bubble.className = "bubble";

    const size = Math.random() * 50 + 20;
    bubble.style.width = size + "px";
    bubble.style.height = size + "px";

    bubble.style.left = Math.random() * innerWidth + "px";
    bubble.style.top = innerHeight + 50 + "px";
    bubble.style.setProperty("--drift", (Math.random() - 0.5) * 300 + "px");
    bubble.style.animationDuration = (Math.random() * 10 + 10) + "s";

    document.body.appendChild(bubble);
    setTimeout(() => bubble.remove(), 20000);
}
setInterval(createBubble, 800);

/* ---------------- BUTTERFLY CREATION ---------------- */
function createButterfly() {
    const b = document.createElement("div");
    b.className = "butterfly";

    const color = ["#e8d5ff","#d4b5f0","#f0d8ff"][Math.floor(Math.random()*3)];

    b.innerHTML = `
    <svg viewBox="0 0 100 100">
        <g class="wing-left">
            <path d="M50 50 Q20 30 15 45 Q10 60 20 65 Q30 70 40 60 Z" fill="${color}"/>
        </g>
        <g class="wing-right">
            <path d="M50 50 Q80 30 85 45 Q90 60 80 65 Q70 70 60 60 Z" fill="${color}"/>
        </g>
        <ellipse cx="50" cy="50" rx="3" ry="18" fill="#222"/>
    </svg>`;

    b.x = Math.random() * innerWidth;
    b.y = Math.random() * innerHeight;
    b.vx = 0;
    b.vy = 0;
    b.angle = 0;

    document.body.appendChild(b);
    butterflies.push(b);
}

for (let i = 0; i < 12; i++) createButterfly();

/* ---------------- MOUSE ---------------- */
document.addEventListener("mousemove", e => {
    mouseX = e.clientX;
    mouseY = e.clientY;
    cursor.style.left = mouseX + "px";
    cursor.style.top = mouseY + "px";
});

/* ---------------- ANIMATION ---------------- */
function animate() {
    butterflies.forEach(b => {
        const dx = mouseX - b.x;
        const dy = mouseY - b.y;
        const dist = Math.hypot(dx, dy);

        if (dist > 500) {
            b.vx += (dx / dist) * 0.06;
            b.vy += (dy / dist) * 0.06;
        }

        const t = Date.now() * 0.002 + b.x * 0.01;
        b.vx += Math.sin(t) * 0.04;
        b.vy += Math.cos(t * 1.3) * 0.04;

        b.vx *= 0.92;
        b.vy *= 0.92;

        b.x += b.vx;
        b.y += b.vy;

        if (b.x < -100) b.x = innerWidth + 50;
        if (b.x > innerWidth + 50) b.x = -50;
        if (b.y < -100) b.y = innerHeight + 50;
        if (b.y > innerHeight + 50) b.y = -50;

        b.style.left = b.x + "px";
        b.style.top = b.y + "px";

        const angle = Math.atan2(dy, dx) * 180 / Math.PI;
        b.angle += (angle - b.angle) * 0.08;
        b.style.transform = `rotate(${b.angle}deg)`;
    });

    requestAnimationFrame(animate);
}
animate();
</script>
</body>
</html>
